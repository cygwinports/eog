diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/eog-2.22.3/data/eog.pc.in src/eog-2.22.3/data/eog.pc.in
--- origsrc/eog-2.22.3/data/eog.pc.in	2008-03-10 09:04:09.000000000 -0500
+++ src/eog-2.22.3/data/eog.pc.in	2008-07-09 04:03:51.640625000 -0500
@@ -9,3 +9,4 @@
 Requires: gtk+-2.0, libgnomeui-2.0 libglade-2.0, gnome-vfs-2.0, gconf-2.0
 Version: @VERSION@
 Cflags: -I${includedir}
+Libs: -L${libdir} -leog
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/eog-2.22.3/jpegutils/Makefile.am src/eog-2.22.3/jpegutils/Makefile.am
--- origsrc/eog-2.22.3/jpegutils/Makefile.am	2008-03-10 09:04:21.000000000 -0500
+++ src/eog-2.22.3/jpegutils/Makefile.am	2008-07-09 04:03:51.656250000 -0500
@@ -1,9 +1,9 @@
 INCLUDES = $(EOG_CFLAGS) \
 	$(EXIF_CFLAGS)
 
-noinst_LIBRARIES = libeog-jpegutils.a
+noinst_LTLIBRARIES = libeog-jpegutils.la
 
-libeog_jpegutils_a_SOURCES =		\
+libeog_jpegutils_la_SOURCES =		\
 	transupp.c			\
 	transupp.h
 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/eog-2.22.3/jpegutils/transupp.c src/eog-2.22.3/jpegutils/transupp.c
--- origsrc/eog-2.22.3/jpegutils/transupp.c	2008-03-10 09:04:21.000000000 -0500
+++ src/eog-2.22.3/jpegutils/transupp.c	2008-07-09 04:03:51.890625000 -0500
@@ -51,6 +51,11 @@
 #define MAX(a, b)  (((a) > (b)) ? (a) : (b))
 #endif
 
+#ifdef __CYGWIN__
+#define height_in_blocks height_in_data_units
+#define width_in_blocks width_in_data_units
+#endif
+
 enum {
   JERR_CONVERSION_NOTIMPL
 };
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/eog-2.22.3/src/Makefile.am src/eog-2.22.3/src/Makefile.am
--- origsrc/eog-2.22.3/src/Makefile.am	2008-03-10 09:04:00.000000000 -0500
+++ src/eog-2.22.3/src/Makefile.am	2008-07-09 04:03:51.921875000 -0500
@@ -1,15 +1,12 @@
 if ENABLE_JPEG
-jpeg_LIB = -L$(top_builddir)/jpegutils -leog-jpegutils
-jpeg_DEPS = $(top_builddir)/jpegutils/libeog-jpegutils.a
+jpeg_LIB = $(top_builddir)/jpegutils/libeog-jpegutils.la
 endif
 
-toolbar_LIB = -L$(top_builddir)/cut-n-paste/toolbar-editor -ltoolbareditor
-toolbar_DEPS = $(top_builddir)/cut-n-paste/toolbar-editor/libtoolbareditor.la
+toolbar_LIB = $(top_builddir)/cut-n-paste/toolbar-editor/libtoolbareditor.la
 
-screensaver_LIB = -L$(top_builddir)/cut-n-paste/totem-screensaver -ltotemscrsaver
-screensaver_DEPS = $(top_builddir)/cut-n-paste/totem-screensaver/libtotemscrsaver.la
+screensaver_LIB = $(top_builddir)/cut-n-paste/totem-screensaver/libtotemscrsaver.la
 
-noinst_LTLIBRARIES = libeog.la
+lib_LTLIBRARIES = libeog.la
 
 bin_PROGRAMS = eog
 
@@ -128,10 +125,12 @@
 endif
 
 if HAVE_EXEMPI
+if !HAVE_EXIF
 libeog_la_SOURCES +=			\
 	eog-exif-details.h		\
 	eog-exif-details.c
 endif
+endif
 
 libeog_la_CFLAGS =						\
 	$(EOG_CFLAGS)						\
@@ -147,6 +146,10 @@
 	-DEOG_PLUGIN_DIR=\""$(libdir)/eog/plugins"\"
 
 libeog_la_LIBADD = \
+	$(LIBJPEG)			\
+	$(toolbar_LIB)			\
+	$(screensaver_LIB)		\
+	$(jpeg_LIB)			\
 	$(EOG_LIBS)
 
 if ENABLE_PYTHON
@@ -164,12 +167,6 @@
 
 eog_SOURCES = main.c
 
-eog_DEPENDENCIES = 	    \
-	libeog.la	    \
-	$(jpeg_DEPS)	    \
-	$(toolbar_DEPS)     \
-	$(screensaver_DEPS)
-
 eog_CFLAGS = 							\
 	$(EOG_CFLAGS)						\
 	-I$(top_srcdir)/cut-n-paste/toolbar-editor		\
@@ -180,11 +177,7 @@
 eog_LDADD = 				\
 	libeog.la			\
 	$(EOG_LIBS)			\
-	$(X_LIBS)			\
-	$(LIBJPEG)			\
-	$(toolbar_LIB)			\
-	$(screensaver_LIB)		\
-	$(jpeg_LIB)
+	$(X_LIBS)
 
 eog_LDFLAGS = -export-dynamic -no-undefined -export-symbols-regex "^[[^_]].*"
 
